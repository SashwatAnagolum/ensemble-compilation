hi
Testing './tests/ensemble_syntax.mlir'
Constant float: -1.000000e+00
Operation: arith.constant
Location: loc("inlined.mlir":3:12)
Operands:
Results:
  %cst = arith.constant -1.000000e+00 : f32
Attributes:
  "value": -1.000000e+00 : f32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant float: 1.000000e+00
Operation: arith.constant
Location: loc("inlined.mlir":4:14)
Operands:
Results:
  %cst_0 = arith.constant 1.000000e+00 : f32
Attributes:
  "value": 1.000000e+00 : f32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 3
Operation: arith.constant
Location: loc("inlined.mlir":5:15)
Operands:
Results:
  %c3_i32 = arith.constant 3 : i32
Attributes:
  "value": 3 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 4
Operation: arith.constant
Location: loc("inlined.mlir":6:15)
Operands:
Results:
  %c4_i32 = arith.constant 4 : i32
Attributes:
  "value": 4 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 1
Operation: arith.constant
Location: loc("inlined.mlir":7:15)
Operands:
Results:
  %c1_i32 = arith.constant 1 : i32
Attributes:
  "value": 1 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 0
Operation: arith.constant
Location: loc("inlined.mlir":8:15)
Operands:
Results:
  %c0_i32 = arith.constant 0 : i32
Attributes:
  "value": 0 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 3
Operation: arith.constant
Location: loc("inlined.mlir":9:11)
Operands:
Results:
  %c3 = arith.constant 3 : index
Attributes:
  "value": 3 : index
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 2
Operation: arith.constant
Location: loc("inlined.mlir":10:11)
Operands:
Results:
  %c2 = arith.constant 2 : index
Attributes:
  "value": 2 : index
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 1
Operation: arith.constant
Location: loc("inlined.mlir":11:11)
Operands:
Results:
  %c1 = arith.constant 1 : index
Attributes:
  "value": 1 : index
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Constant int: 0
Operation: arith.constant
Location: loc("inlined.mlir":12:11)
Operands:
Results:
  %c0 = arith.constant 0 : index
Attributes:
  "value": 0 : index
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Operation: ensemble.program_alloc
Location: loc("inlined.mlir":13:10)
Operands:
Results:
  %0 = ensemble.program_alloc 4 : () -> tensor<4x!ensemble.physical_qubit>
Attributes:
  "circuit_size": 4 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Operation: ensemble.alloc_cbits
Location: loc("inlined.mlir":14:10)
Operands:
Results:
  %1 = ensemble.alloc_cbits 2 : () -> tensor<2x!ensemble.cbit>
Attributes:
  "circuit_size": 2 : i32
ParentOps:
  func.func
GrandparentOps:
  builtin.module

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":15:18)
Operands:
  %0 = ensemble.program_alloc 4 : () -> tensor<4x!ensemble.physical_qubit>(visited)
  %c0 = arith.constant 0 : index(visited)
Results:
  %extracted = tensor.extract %0[%c0] : tensor<4x!ensemble.physical_qubit>
Attributes:
ParentOps:
  func.func
GrandparentOps:
  builtin.module

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":16:20)
Operands:
  %0 = ensemble.program_alloc 4 : () -> tensor<4x!ensemble.physical_qubit>(visited)
  %c1 = arith.constant 1 : index(visited)
Results:
  %extracted_1 = tensor.extract %0[%c1] : tensor<4x!ensemble.physical_qubit>
Attributes:
ParentOps:
  func.func
GrandparentOps:
  builtin.module

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":17:20)
Operands:
  %0 = ensemble.program_alloc 4 : () -> tensor<4x!ensemble.physical_qubit>(visited)
  %c2 = arith.constant 2 : index(visited)
Results:
  %extracted_2 = tensor.extract %0[%c2] : tensor<4x!ensemble.physical_qubit>
Attributes:
ParentOps:
  func.func
GrandparentOps:
  builtin.module

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":18:20)
Operands:
  %0 = ensemble.program_alloc 4 : () -> tensor<4x!ensemble.physical_qubit>(visited)
  %c3 = arith.constant 3 : index(visited)
Results:
  %extracted_3 = tensor.extract %0[%c3] : tensor<4x!ensemble.physical_qubit>
Attributes:
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Operation: ensemble.int_uniform
Location: loc("inlined.mlir":19:10)
Operands:
  %c0_i32 = arith.constant 0 : i32(visited)
  %c1_i32 = arith.constant 1 : i32(visited)
  %c1_i32 = arith.constant 1 : i32(visited)
Results:
  %2 = ensemble.int_uniform %c0_i32, %c1_i32, [%c1_i32] : (i32, i32, i32) -> tensor<1xi32>
Attributes:
ParentOps:
  func.func
GrandparentOps:
  builtin.module

Operation: ensemble.reset
Location: loc("inlined.mlir":21:7)
Operands:
  %extracted = tensor.extract %0[%c0] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.reset
Location: loc("inlined.mlir":22:7)
Operands:
  %extracted_1 = tensor.extract %0[%c1] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.reset
Location: loc("inlined.mlir":23:7)
Operands:
  %extracted_2 = tensor.extract %0[%c2] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.reset
Location: loc("inlined.mlir":24:7)
Operands:
  %extracted_3 = tensor.extract %0[%c3] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.float_uniform
Location: loc("inlined.mlir":25:12)
Operands:
  %cst = arith.constant -1.000000e+00 : f32(visited)
  %cst_0 = arith.constant 1.000000e+00 : f32(visited)
  %c3_i32 = arith.constant 3 : i32(visited)
Results:
  %3 = ensemble.float_uniform %cst, %cst_0, [%c3_i32] : (f32, f32, i32) -> tensor<3xf32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":26:22)
Operands:
  %3 = ensemble.float_uniform %cst, %cst_0, [%c3_i32] : (f32, f32, i32) -> tensor<3xf32>(visited)
  %c0 = arith.constant 0 : index(visited)
Results:
  %extracted_4 = tensor.extract %3[%c0] : tensor<3xf32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":27:22)
Operands:
  %3 = ensemble.float_uniform %cst, %cst_0, [%c3_i32] : (f32, f32, i32) -> tensor<3xf32>(visited)
  %c1 = arith.constant 1 : index(visited)
Results:
  %extracted_5 = tensor.extract %3[%c1] : tensor<3xf32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":28:22)
Operands:
  %3 = ensemble.float_uniform %cst, %cst_0, [%c3_i32] : (f32, f32, i32) -> tensor<3xf32>(visited)
  %c2 = arith.constant 2 : index(visited)
Results:
  %extracted_6 = tensor.extract %3[%c2] : tensor<3xf32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.gate
Location: loc("inlined.mlir":29:12)
Operands:
  %extracted_4 = tensor.extract %3[%c0] : tensor<3xf32>(visited)
  %extracted_5 = tensor.extract %3[%c1] : tensor<3xf32>(visited)
  %extracted_6 = tensor.extract %3[%c2] : tensor<3xf32>(visited)
Results:
  %4 = ensemble.gate "U3" "inverse" 1(%extracted_4, %extracted_5, %extracted_6) : (f32, f32, f32) -> !ensemble.gate
Attributes:
  "inverse": "inverse"
  "name": "U3"
  "num_operands": 1 : i32
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.gate
Location: loc("inlined.mlir":30:12)
Operands:
  %extracted_6 = tensor.extract %3[%c2] : tensor<3xf32>(visited)
  %extracted_4 = tensor.extract %3[%c0] : tensor<3xf32>(visited)
  %extracted_5 = tensor.extract %3[%c1] : tensor<3xf32>(visited)
Results:
  %5 = ensemble.gate "U3" 1(%extracted_6, %extracted_4, %extracted_5) : (f32, f32, f32) -> !ensemble.gate
Attributes:
  "name": "U3"
  "num_operands": 1 : i32
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.gate_distribution
Location: loc("inlined.mlir":31:12)
Operands:
  %4 = ensemble.gate "U3" "inverse" 1(%extracted_4, %extracted_5, %extracted_6) : (f32, f32, f32) -> !ensemble.gate(visited)
  %5 = ensemble.gate "U3" 1(%extracted_6, %extracted_4, %extracted_5) : (f32, f32, f32) -> !ensemble.gate(visited)
Results:
  %6 = ensemble.gate_distribution %4, %5 : (!ensemble.gate, !ensemble.gate) -> !ensemble.gate_distribution
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.gate
Location: loc("inlined.mlir":32:12)
Operands:
Results:
  %7 = ensemble.gate "CZ" 2 : () -> !ensemble.gate
Attributes:
  "name": "CZ"
  "num_operands": 2 : i32
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.gate
Location: loc("inlined.mlir":33:12)
Operands:
Results:
  %8 = ensemble.gate "CNOT" 2 : () -> !ensemble.gate
Attributes:
  "name": "CNOT"
  "num_operands": 2 : i32
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.apply
Location: loc("inlined.mlir":34:7)
Operands:
  %7 = ensemble.gate "CZ" 2 : () -> !ensemble.gate(visited)
  %extracted = tensor.extract %0[%c0] : tensor<4x!ensemble.physical_qubit>(visited)
  %extracted_1 = tensor.extract %0[%c1] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.apply_distribution
Location: loc("inlined.mlir":35:7)
Operands:
  %6 = ensemble.gate_distribution %4, %5 : (!ensemble.gate, !ensemble.gate) -> !ensemble.gate_distribution(visited)
  %c0_i32 = arith.constant 0 : i32(visited)
  %extracted = tensor.extract %0[%c0] : tensor<4x!ensemble.physical_qubit>(visited)
Results:
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

indices: 0
Distribution not found: arith.constant
indices: 1
Operation: tensor.extract
Location: loc("inlined.mlir":36:22)
Operands:
  %2 = ensemble.int_uniform %c0_i32, %c1_i32, [%c1_i32] : (i32, i32, i32) -> tensor<1xi32>(visited)
  %c0 = arith.constant 0 : index(visited)
Results:
  %extracted_7 = tensor.extract %2[%c0] : tensor<1xi32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.qubit_distribution_1q
Location: loc("inlined.mlir":37:12)
Operands:
  %extracted = tensor.extract %0[%c0] : tensor<4x!ensemble.physical_qubit>(visited)
  %extracted_1 = tensor.extract %0[%c1] : tensor<4x!ensemble.physical_qubit>(visited)
  %extracted_7 = tensor.extract %2[%c0] : tensor<1xi32>(visited)
Results:
  %9 = ensemble.qubit_distribution_1q %extracted, %extracted_1[%extracted_7] : (!ensemble.physical_qubit, !ensemble.physical_qubit, i32) -> !ensemble.physical_qubit
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Operation: ensemble.permutation
Location: loc("inlined.mlir":38:13)
Operands:
  %c4_i32 = arith.constant 4 : i32(visited)
Results:
  %10 = ensemble.permutation %c4_i32 : (i32) -> tensor<4xi32>
Attributes:
ParentOps:
  ensemble.quantum_program_iteration
GrandparentOps:
  func.func

Distribution not found: ensemble.permutation
